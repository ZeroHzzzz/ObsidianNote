## TUN模式（网络隧道）

-   **工作原理**：

    -   TUN设备（通常用于IP层）模拟一个网络层（Layer 3）的虚拟网卡。它通过创建一个虚拟的IP路由设备来处理IP数据包。
    -   在TUN模式下，数据包的处理仅限于IP层，不涉及以太网层。它主要用于VPN和类似的应用场景，通过虚拟网卡实现IP数据的加密和解密。

-   **应用场景**：
    -   适用于需要对IP数据包进行处理的应用，如VPN客户端。
    -   常用于虚拟专用网络（VPN）中，尤其是点对点通信的场景。

## TAP模式（虚拟网络接口）

-   **工作原理**：

    -   TAP设备（通常用于数据链路层）模拟一个以太网层（Layer 2）的虚拟网卡。它处理的是以太网帧（Ethernet frames），不仅限于IP数据包。
    -   在TAP模式下，网络数据包的处理包括以太网层，使其能够处理各种协议（如ARP等）。

-   **应用场景**：

    -   适用于需要对以太网数据帧进行处理的应用，如需要实现虚拟局域网（VLAN）或虚拟网络拓扑的场景。
    -   常用于构建复杂的虚拟网络环境，支持多种网络协议。

## 总结

-   **TUN模式**：处理IP层的数据，适合VPN等需要IP隧道的场景。
-   **TAP模式**：处理以太网层的数据，适合需要虚拟局域网和复杂网络拓扑的场景。
