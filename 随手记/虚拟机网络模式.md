## Bridged（桥接模式）

桥接模式下，虚拟机的网卡直接连接到主机的网卡，这使得虚拟机和主机相同子网的IP地址，使得虚拟机看起来像是直接连接到物理网络的一部分，能够直接访问互联网和局域网中的所有设备，同时也可以被局域网中的其他设备访问。

**mac地址是否相同？**

## NAT模式

在NAT模式下，虚拟机的网卡通过宿主机的网卡进行网络通信。虚拟机没有直接访问物理网络的权限，而是通过宿主机进行网络地址转换

这个时候，虚拟机使用一个私有IP地址，与外部通信时通过宿主机的IP地址进行NAT。虚拟机可以访问外部网络（包括互联网），但外部网络中的设备不能直接访问虚拟机。这是因为外部设备看到的是宿主机的IP地址，虚拟机的IP地址对外部是隐藏的。

## Host-Only

在仅主机模式下，虚拟机通过虚拟网卡从虚拟机管理程序内置的DHCP服务器获取一个私有IP地址，通常属于一个专门用于仅主机通信的虚拟网段（如 192.168.56.x）。虚拟机只能与宿主机和同样配置为仅主机模式的其他虚拟机通信，无法直接访问外部网络和互联网。但是宿主机可以访问虚拟机。

## wsl网络模式

wsl提供了一种相对比较特殊的网络模式，也就是镜像。

这是wsl中的配置：

```bash
zerohzzzz@Mask:/$ ifconfig
eth1: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.31.222  netmask 255.255.255.0  broadcast 192.168.31.255
        inet6 fe80::2e52:96b6:6e02:ebf3  prefixlen 64  scopeid 0x20<link>
        ether 74:d4:dd:04:f2:48  txqueuelen 1000  (Ethernet)
        RX packets 558088  bytes 1064942665 (1.0 GB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 165208  bytes 14772910 (14.7 MB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10<host>
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 1220  bytes 480442 (480.4 KB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 1220  bytes 480442 (480.4 KB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

loopback0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        ether 00:15:5d:b6:6f:3e  txqueuelen 1000  (Ethernet)
        RX packets 3303  bytes 2370789 (2.3 MB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 623  bytes 51516 (51.5 KB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
```

这是宿主机的配置：

```powershell
C:\Users\ZeroHzzzz\Desktop\Car>ipconfig /all

Windows IP 配置

   主机名  . . . . . . . . . . . . . : Mask
   主 DNS 后缀 . . . . . . . . . . . :
   节点类型  . . . . . . . . . . . . : 混合
   IP 路由已启用 . . . . . . . . . . : 否
   WINS 代理已启用 . . . . . . . . . : 否

以太网适配器 以太网:

   连接特定的 DNS 后缀 . . . . . . . :
   描述. . . . . . . . . . . . . . . : Realtek PCIe GbE Family Controller
   物理地址. . . . . . . . . . . . . : 74-D4-DD-04-F2-48
   DHCP 已启用 . . . . . . . . . . . : 是
   自动配置已启用. . . . . . . . . . : 是
   本地链接 IPv6 地址. . . . . . . . : fe80::2e52:96b6:6e02:ebf3%23(首选)
   IPv4 地址 . . . . . . . . . . . . : 192.168.31.222(首选)
   子网掩码  . . . . . . . . . . . . : 255.255.255.0
   获得租约的时间  . . . . . . . . . : 2024年8月24日 15:55:07
   租约过期的时间  . . . . . . . . . : 2024年8月25日 9:55:07
   默认网关. . . . . . . . . . . . . : 192.168.31.1
   DHCP 服务器 . . . . . . . . . . . : 192.168.31.1
   DHCPv6 IAID . . . . . . . . . . . : 108319965
   DHCPv6 客户端 DUID  . . . . . . . : 00-01-00-01-2C-87-4F-12-74-D4-DD-04-F2-48
   DNS 服务器  . . . . . . . . . . . : 192.168.31.1
   TCPIP 上的 NetBIOS  . . . . . . . : 已启用
```

WSL2与Windows本地共享一个局域网IP，`localhost`也指向同一个
